/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function(t){"use strict";t("#sidebarToggle, #sidebarToggleTop").on("click",function(o){t("body").toggleClass("sidebar-toggled"),t(".sidebar").toggleClass("toggled"),t(".sidebar").hasClass("toggled")&&t(".sidebar .collapse").collapse("hide")}),t(window).resize(function(){t(window).width()<768&&t(".sidebar .collapse").collapse("hide")}),t("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(o){if(768<t(window).width()){var e=o.originalEvent,l=e.wheelDelta||-e.detail;this.scrollTop+=30*(l<0?1:-1),o.preventDefault()}}),t(document).on("scroll",function(){100<t(this).scrollTop()?t(".scroll-to-top").fadeIn():t(".scroll-to-top").fadeOut()}),t(document).on("click","a.scroll-to-top",function(o){var e=t(this);t("html, body").stop().animate({scrollTop:t(e.attr("href")).offset().top},1e3,"easeInOutExpo"),o.preventDefault()})}(jQuery);

function ChangeWeather() {
    document.getElementById("weather").style.display = "block";
}

function RemoveWeather() {
    document.getElementById("weather").style.display = "none";
}

function ChangeMoviesRatings() {
    document.getElementById("Amovies").style.display = "block";
}

function RemoveMoviesRatings() {
    document.getElementById("Amovies").style.display = "none";
}

function ChangeMoviesDesc() {
    document.getElementById("Dmovies").style.display = "block";
}

function RemoveMoviesDesc() {
    document.getElementById("Dmovies").style.display = "none";
}

function weather() {
    var apiKey = 'cc7c753a9a8f1cb76abaf5628b753512'; //9fc69acca1535de45c7cedd9b4427623
    var city = document.getElementById("city").value;
    $.ajax({
        url: 'http://api.openweathermap.org/data/2.5/weather?q=' + city + '&units=metric&appid=' + apiKey,
        type: 'GET',
        dataType: 'json',
        success: function (data) {
            currentWeather = {
                'main': {
                    'humidity': data.main.humidity,
                    'temp': data.main.temp,
                    'temp_min': data.main.temp_min,
                    'temp_max': data.main.temp_max
                },
                'wind': { 
                    'speed': data.wind.speed
                },
                'weather': {
                    'description': data.weather[0].description
                },
                'name': data.name
            }
            if (currentWeather.main != undefined) {
                let strCity = `${currentWeather.name} (${currentWeather.weather.description})`;
                let strTemp = `Current temperature : ${currentWeather.main.temp}`;
                let strMinMax = `Min : ${currentWeather.main.temp_min}      - Max : ${currentWeather.main.temp_max}`;
                let strWind = `Wind speed : ${currentWeather.wind.speed}`;
                document.getElementById("weatherCity").innerHTML = strCity;
                document.getElementById("temp").innerHTML = strTemp;
                document.getElementById("tempMinMax").innerHTML = strMinMax;
                document.getElementById("wind").innerHTML = strWind;
                document.getElementById("desc").innerHTML = strDesc;
            } else {
                document.getElementById("weatherDisplay").innerHTML = 'City doesn\'t exist';
            }
        }
    })
}

function moviesDesc() {
    var apiKey = '30dfdcb3';
    var movies = document.getElementById("dMovie").value;
    $.ajax({
        url: 'http://www.omdbapi.com/?apikey=' + apiKey + '&t=' + movies,
        type: 'GET',
        dataType: 'json',
        success: function (data) {
            var director = `Directors : ${data.Director}`
            var actor = `Actors : ${data.Actors}`
            var released = `Released date : ${data.Released}`
            var genre = `Genre : ${data.Genre}`
            var plot = `Plot : ${data.Plot}`
            document.getElementById("director").innerHTML = director;
            document.getElementById("actors").innerHTML = actor;
            document.getElementById("released").innerHTML = released;
            document.getElementById("genre").innerHTML = genre; 
            document.getElementById("plot").innerHTML = plot;
        }
    })
}

function moviesRatings() {
    var apiKey = '30dfdcb3';
    var movies = document.getElementById("aMovie").value;
    $.ajax({
        url: 'http://www.omdbapi.com/?apikey=' + apiKey + '&t=' + movies,
        type: 'GET',
        dataType: 'json',
        success: function (data) {
            var awards = `Awards : ${data.Awards}`
            var boxOffice = `Box office : ${data.BoxOffice}`
            var imdbRating = `Votes imdb : ${data.imdbVotes}`
            var list = data.Ratings;
            var tempR = "";
            tempR += '<tr><TH>SOURCE</TH><TH>RATING</TH></tr>';
            for (var i in list)
                tempR += `<tr><td>${list[i].Source}:</td><td>${list[i].Value}</td></tr>`;
            document.getElementById("awards").innerHTML = awards;
            document.getElementById("boxOffice").innerHTML = boxOffice;
            document.getElementById("imdbRating").innerHTML = imdbRating;
            document.getElementById("listRatings").innerHTML = tempR;
        }
    })
}